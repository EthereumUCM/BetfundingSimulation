<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <script src="./Include/jquery-3.2.1.min.js"></script>
  <script src="./Include/web3.js"></script>
  <script src="./Include/Chart.min.js"></script>
  <script src="./Scripts/Helpers/graph_functions.js"></script>
  <script src="./Scripts/Helpers/helper_functions.js"></script>
  <script src="./Classes/Behaviours/investor_behaviour.js"></script>
  <script src="./Classes/Behaviours/developer_behaviour.js"></script>
  <script src="./Classes/Behaviours/speculator_behaviour.js"></script>
  <script src="./Classes/Projects/projects.js"></script>
  <script src="./Classes/Agents/agent.js"></script>
  <script src="./Scripts/main.js"></script>
</head>

<body>
Contract Adress <input type="text" name="" id="bfaddr" value=""/>
<button class="btn" onclick="deploy()">Deploy Contract</button><br>
<button class="btn" onclick="createInitialProjects()">Create initial projects</button>
<button class="btn" onclick="run()">Run simulation epoch</button>
<button class="btn" onclick="for(var i = 0 ; i < 10; i++){run()}">Run 10 simulation epochs</button>
<button class="btn" onclick="log('Numprojects:'+getNumProjects())">Get projects info</button><br />

<textarea name="" id="logarea" cols="50" rows="10"></textarea><br>

<div style="width: 30%;float: left"><canvas id="piechart"></canvas></div>
<div style="width: 60%;float: left"><canvas id="plotchart"></canvas></div>
<div style="width: 30%;float: left"><canvas id="piechart2"></canvas></div>
<script>

    var config = {
        type: "pie",
        data: {
            datasets: [ {
                data: [
                    0,0
                ],
                backgroundColor: [
                    "#ff0000",
                    "#0000ff"
                ],
                label: "Number of Bets"
            } ],
            labels: [
                "Negative Bets",
                "Positive Bets"
            ]
        },
        options: {
            responsive: true
        }
    };

    var newDataset = {
        data: [
            0,0
        ],
        backgroundColor: [
            "#ff0000",
            "#0000ff"
        ],
        label: "Amount of Bets"
    };
    config.data.datasets.push( newDataset );
    var ctx = document.getElementById( "piechart" ).getContext( "2d" );
    window.myPie = new Chart( ctx, config );

    var config2 = {
        type: "line",
        data: {}
    };

    var pbetsplot = [];
    var nbetsplot = [];
    for ( var i = 0 ; i < epochs; i++ ) {
        pbetsplot.push( {
            x: i + 1,
            y:  pbets[ i + 1 ]
        } );
        nbetsplot.push( {
            x: i + 1,
            y:  nbets[ i + 1 ]
        } );
    }
    scatterChartData = { datasets: [ {
        label: "Number of Positive Bets",
        backgroundColor: "#0000ff",
        borderColor: "#0000ff",
        data: pbetsplot
    }, {
        label: "Number of Negative Bets",
        backgroundColor: "#ff0000",
        borderColor: "#ff0000",
        data: nbetsplot
    } ]
    };
    var ctx2 = document.getElementById( "plotchart" ).getContext( "2d" );
    window.myScatter = Chart.Scatter( ctx2, {
        data: scatterChartData,
        options: {
        }
    } );


    var config3 = {
        type: "pie",
        data: {
            datasets: [ {
                data: [
                    0,0
                ],
                backgroundColor: [
                    "#00f720",
                    "#ff9000"
                ],
                label: "Verified Projects"
            } ],
            labels: [
                "Projects Verified",
                "Projects in Progress"
            ]
        },
        options: {
            responsive: true
        }
    };
    var ctx3 = document.getElementById( "piechart2" ).getContext( "2d" );
    window.myPie2 = new Chart( ctx3, config3 );
</script>
<!--
<script>
    var datas = [];

    for (var i = 0 ; i < 10000 ;i ++ ){
        datas[i] = randnBm();

    }
    datas.sort();
    log(datas[datas.length-1]);
    dataa = []
    for (var i = 0 ; i < datas.length ;i ++ ){
        dataa[i] = {
            x: i,
            y: datas[i],
        }
    }
    var config = {
            datasets: [{
                label: "My First dataset",
                backgroundColor: '#fff000',
                borderColor: '#fff000',
                data: dataa,
            }]
    };
    var ctx = document.getElementById("canvas").getContext("2d");
    window.myScatter = Chart.Scatter(ctx, {
        data: config,
        options: {
            title: {
                display: true,
                text: 'Chart.js Scatter Chart'
            },
        }
    });
</script> !-->
</body>
</html>
